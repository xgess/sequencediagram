// Example 6: Nested Fragments
// Demonstrates fragments within fragments

title Complex Workflow with Nesting

participant UI
participant Service
database DB

UI->Service:Start process

// Outer alt fragment
alt online mode

  // Nested loop inside alt
  loop for each item
    Service->DB:Save item
    DB-->Service:OK
  end

  Service-->UI:All saved

else offline mode

  // Different nested alt
  alt cache available
    Service->UI:Load from cache
  else no cache
    Service-->UI:Offline error
  end

end

UI->Service:Complete
